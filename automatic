#!/bin/bash

set -e  # Exit on error

# Banner
clear
echo "  _______               _      "
echo " |__   __|             (_)     "
echo "    | | __ _ _ ____   ___ _ __ "
echo "    | |/ _\` | '_ \ \ / / | '__|"
echo "    | | (_| | | | \ V /| | |   "
echo "    |_|\__,_|_| |_|\_/ |_|_|   "
echo "                               "
echo "         Installer Script      "
echo "==============================="

# Function: Install Blueprint
install_blueprint() {
    echo "🔧 Installing Blueprint..."
    apt install curl -y
    apt install git -y
    bash <(curl -s https://raw.githubusercontent.com/TS-25/SRJ-THEME/refs/heads/main/blueprint)


    echo "successfull"
}

# Function: Install Nebula Theme
install_nebula() {
    echo "🎨 Installing Nebula Theme..."
    apt install wget -y
    cd /var/www/pterodactyl || { echo "❌ Pterodactyl not found!"; exit 1; }

    # Download Nebula
    wget -O nebula.blueprint https://github.com/TS-25/SRJ-THEME/releases/latest/download/nebula.blueprint

    # Install via Blueprint
    blueprint -install nebula

    echo "✅ Nebula theme installed!"
}

# Menu
while true; do
    echo ""
    echo "==============================="
    echo "   Main Installation Menu"
    echo "==============================="
    echo "1) Install Blueprint"
    echo "2) Install Nebula Theme"
    echo "3) Exit"
    echo "==============================="
    read -rp "Choose an option [1-3]: " choice

    case $choice in
        1) install_blueprint ;;
        2) install_nebula ;;
        3) echo "👋 Exiting..."; exit 0 ;;
        *) echo "❌ Invalid choice! Try again." ;;
    esac
done
