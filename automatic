#!/bin/bash
set -e

clear
echo "  _______               _      "
echo " |__   __|             (_)     "
echo "    | | __ _ _ ____   ___ _ __ "
echo "    | |/ _\` | '_ \\ \\ / / | '__|"
echo "    | | (_| | | | \\ V /| | |   "
echo "    |_|\\__,_|_| |_|\\_/ |_|_|   "
echo "                               "
echo "         Installer Script      "
echo "==============================="

install_blueprint() {
    apt install curl git -y
    bash <(curl -s https://raw.githubusercontent.com/TS-25/SRJ-THEME/refs/heads/main/blueprint)
}

# -------- THEMES --------
install_nebula() {
    cd /var/www/pterodactyl || exit 1
    wget -O nebula.blueprint https://github.com/TS-25/SRJ-THEME/releases/latest/download/nebula.blueprint
    blueprint -install nebula
}

install_euphoria() {
    cd /var/www/pterodactyl || exit 1
    wget -O euphoriatheme.blueprint https://github.com/TS-25/SRJ-THEME/releases/latest/download/euphoriatheme.blueprint
    blueprint -install euphoriatheme
}

install_revix() {
    bash <(curl -s https://raw.githubusercontent.com/TS-25/SRJ-THEME/refs/heads/main/revix-theme)
}

install_apollo() {
    bash <(curl -s https://raw.githubusercontent.com/TS-25/SRJ-THEME/refs/heads/main/apollo)
}

# -------- ADDONS --------
install_mcplugins() {
    cd /var/www/pterodactyl || exit 1
    wget -O mcplugins.blueprint https://github.com/TS-25/SRJ-THEME/releases/latest/download/mcplugins.blueprint
    blueprint -install mcplugins
}

install_subdomain() {
    cd /var/www/pterodactyl || exit 1
    wget -O subdomains.blueprint https://github.com/TS-25/SRJ-THEME/releases/latest/download/subdomains.blueprint
    blueprint -install subdomains
}

install_resource_manager() {
    cd /var/www/pterodactyl || exit 1
    wget -O resourcemanager.blueprint https://github.com/TS-25/SRJ-THEME/releases/download/V1.0.0/resourcemanager.blueprint
    blueprint -install resourcemanager
}

install_pull_files() {
    cd /var/www/pterodactyl || exit 1
    wget -O pullfiles.blueprint https://github.com/TS-25/SRJ-THEME/releases/download/V1.0.0/pullfiles.blueprint
    blueprint -install pullfiles
}

install_player_manager() {
    cd /var/www/pterodactyl || exit 1
    wget -O minecraftplayermanager.blueprint https://github.com/TS-25/SRJ-THEME/releases/download/V1.0.0/minecraftplayermanager.blueprint
    blueprint -install minecraftplayermanager
}

install_huxregister() {
    cd /var/www/pterodactyl || exit 1
    wget -O huxregister.blueprint https://github.com/TS-25/SRJ-THEME/releases/latest/download/huxregister.blueprint
    blueprint -install huxregister
}

while true; do
    echo ""
    echo "1) Install Themes"
    echo "2) Install Addons"
    echo "3) Exit"
    read -rp "Select option: " main

    case $main in
        1)
            echo "---- THEMES ----"
            echo "1) Blueprint"
            echo "2) Nebula"
            echo "3) Euphoria"
            echo "4) Revix/Reviactyl"
            echo "5) Apollo"
            read -rp "Choose theme: " t
            case $t in
                1) install_blueprint ;;
                2) install_nebula ;;
                3) install_euphoria ;;
                4) install_revix ;;
                5) install_apollo ;;
            esac
            ;;
        2)
            echo "---- ADDONS ----"
            echo "1) MC Plugins"
            echo "2) Subdomain"
            echo "3) Resource Manager"
            echo "4) Pull Files"
            echo "5) Player Manager"
            echo "6) HuxRegister"
            read -rp "Choose addon: " a
            case $a in
                1) install_mcplugins ;;
                2) install_subdomain ;;
                3) install_resource_manager ;;
                4) install_pull_files ;;
                5) install_player_manager ;;
                6) install_huxregister ;;
            esac
            ;;
        3) exit 0 ;;
    esac
done
