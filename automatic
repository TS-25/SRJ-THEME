#!/bin/bash

set -e  # Exit on error

# Banner
clear
echo "  _______               _      "
echo " |__   __|             (_)     "
echo "    | | __ _ _ ____   ___ _ __ "
echo "    | |/ _\` | '_ \ \ / / | '__|"
echo "    | | (_| | | | \ V /| | |   "
echo "    |_|\__,_|_| |_|\_/ |_|_|   "
echo "                               "
echo "         Installer Script      "
echo "==============================="

# Function: Install Blueprint
install_blueprint() {
    echo "ðŸ”§ Installing Blueprint..."
    apt install curl -y
    apt install git -y
    bash <(curl -s https://raw.githubusercontent.com/TS-25/SRJ-THEME/refs/heads/main/blueprint)
    echo "âœ… Blueprint installed successfully!"
}

# Function: Install Nebula Theme
install_nebula() {
    echo "ðŸŽ¨ Installing Nebula Theme..."
    apt install wget -y
    cd /var/www/pterodactyl || { echo "âŒ Pterodactyl not found!"; exit 1; }
    wget -O nebula.blueprint https://github.com/TS-25/SRJ-THEME/releases/latest/download/nebula.blueprint
    blueprint -install nebula
    echo "âœ… Nebula theme installed!"
}

# Function: Install Euphoria Theme
install_euphoria() {
    echo "ðŸŒŒ Installing Euphoria Theme..."
    apt install wget -y
    cd /var/www/pterodactyl || { echo "âŒ Pterodactyl not found!"; exit 1; }
    wget -O euphoriatheme.blueprint https://github.com/TS-25/SRJ-THEME/releases/latest/download/euphoriatheme.blueprint
    blueprint -install euphoriatheme
    echo "âœ… Euphoria theme installed!"
}

# Function: Install MC Plugin Addon
install_mcplugins() {
    echo "ðŸ› ï¸ Installing MC Plugin Addon..."
    apt install wget -y
    cd /var/www/pterodactyl || { echo "âŒ Pterodactyl not found!"; exit 1; }
    wget -O mcplugins.blueprint https://github.com/TS-25/SRJ-THEME/releases/latest/download/mcplugins.blueprint
    blueprint -install mcplugins
    echo "âœ… MC Plugin Addon installed!"
}

# Function: Install Revix/Reviactyl Theme
install_revix() {
    echo "âš¡ Installing Revix/Reviactyl Theme..."
    apt install curl -y
    bash <(curl -s https://raw.githubusercontent.com/TS-25/SRJ-THEME/refs/heads/main/revix-theme)
    echo "âœ… Revix/Reviactyl theme installed!"
}

# Menu
while true; do
    echo ""
    echo "==============================="
    echo "   Main Installation Menu"
    echo "==============================="
    echo "1) Blueprint"
    echo "2) Nebula Theme(blueprint)"
    echo "3) Euphoria Theme(blueprint)"
    echo "4) Plugin Installer Addon(blueprint)(premium)"
    echo "5) Revix/Reviactyl Theme(without blueprint)"
    echo "6) Exit"
    echo "==============================="
    read -rp "Choose an option [1-6]: " choice

    case $choice in
        1) install_blueprint ;;
        2) install_nebula ;;
        3) install_euphoria ;;
        4) install_mcplugins ;;
        5) install_revix ;;
        6) echo "ðŸ‘‹ Exiting..."; exit 0 ;;
        *) echo "âŒ Invalid choice! Try again." ;;
    esac
done
